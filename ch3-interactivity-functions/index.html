<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8'>
  <title>Page Title</title>
  <link rel="stylesheet" href="../css/main.css"/>
</head>
<body class="line-numbers">
  <aside id="toc-column"></aside>
  <aside id="agenda">
    <h1>time table</h1>
    <div include="../agenda.html"></div>
  </aside>
  <div id="page">
    <main>

  <h1>chapter 3: interactivity in JavaScript with <i>functions</i></h1>

  <p>This chapter introduces two topics: The first is a way to group statements with functions. The other is a way to link those functions to user interaction (like clicking a button).</p>

  <section class="instruction">
    <p>Before you start watching the video below, make sure you have a texteditor or a physical notepad ready to use. <b>Again, make notes for a summary, and write down all the words you did not understand.</b></p>
  </section>

  <youtube ytid="LIO5asMQctg"></youtube>

  <section class="assignment">
    <h3 class="assignment summary">3.1: create a short summary</h3>
    <p>Make a list with <i>3 to 5 bulletpoints</i> with the most important or interesting things in the video.</b> 
    <answer part="a" buttontext="mail your summary"></answer>
  </section>

  <section class="assignment">
      <h3 class="assignment questions">3.2: things we could explain</h3>
      <p>Refer to the notes you took when watching the video. <b>Which words or concepts would you like us to explain during class?</b></p>
      <answer noslider buttontext="mail your word list"></answer>
  </section>

  <section class="assignment">
      <h3 class="assignment questions">3.3: definition</h3>
      <script type="text/plain" class="language-html" data-line="10">
         <html>
          <head>
            <title>Dutch!</title>
          </head>
          <body>
            <div id="helloDiv"></div>
            <div id="goodbyeDiv"></div>
            <script>
              function sayHelloInDutch(){
                document.getElementById("helloDiv").innerHTML = "Hallo!"
              }
              function sayGoodbyeInDutch(){
                document.getElementById("goodbyeDiv").innerHTML = "Toedels!"
              }

              sayHelloInDutch()
              sayHelloInDutch()
              sayGoodbyeInDutch()
              sayGoodbyeInDutch()

            &lt;/script>
          </body>
          </html>
        </script>
      <p>
        Answer the following questions about the code above.
      </p>
      <ol type="a">
        <li>On which lines, in the code above, are the function definitions?</li>
        <li>On which lines, in the code above, are the function calls?</li>
        <li>How many times is the highlighted line executed by the browser?</li>
        <li>What does <code>document.getElementById</code> do?</li>
        <li>Why is the code only displaying "Hallo" and "Toedels" only once in the browser?</li>
      </ol>
      <answer noslider buttontext="mail your answers"></answer>
  </section>

  <section class="assignment">
      <h3 class="assignment questions">3.4: what's in a name?</h3>
      <script type="text/plain" class="language-javascript">
          function notANiceName(){
            document.getElementById("birdpic").width = "500"
            document.getElementById("birdpic").height = "300"
          }
      </script>
      <p>
         What would be a good name for the function in the code above?
      </p>
      <answer noslider buttontext="mail the name"></answer>
  </section>

 <section class="assignment">
      <h3 class="assignment questions">3.5: what's wrong?</h3>
      <div class="instruction">
        <p>This assignment uses the following image:</p> 
        <p><img height=150 src="giant_heron.jpg"></p>
        <p>Save it to the same directory as your html file: <download href="giant_heron.jpg"></download></b></p>
      </div>
          <script type="text/plain" class="language-html">
<html>
<head>
  <title>Birds!</title>
</head>
<body>
  <img id="birdpic" src="giant_heron.jpg">
  <script>
    function notANiceName(){
      document.getElementById("birdpic").width = "500"
      document.getElementById("birdpic").height = "300"
    }
  &lt;/script>
</body>
</html>
        </script>
      <p>
         Why, when you test this code, are you still seeing such a large bird? Can you fix this?
      </p>
      <answer noslider buttontext="mail the fixed code"></answer>
  </section>
  
 <section class="assignment">
      <h3 class="assignment questions">3.6: create meaningful functions</h3>
      <script type="text/plain" class="language-html">
          <html>
            <head>
              <title>Birds!</title>
            </head>
            <style>
            #container {
              padding: 10%;
            }
            body {
              background-color: white;
            }
            #birdpic {
              width: 100%;
            }
            </style>
            <body>
              <div id="container">
                <a id="link" href="#">
                  <img id="birdpic" src="giant_heron.jpg">
                </a>
                <p>Giant Heron</p>
              </div>
              <script>
                document.getElementById("birdpic").style.width = "500"
                document.getElementById("birdpic").style.height = "300"
                document.getElementById("birdpic").style.padding = "20px" 
                document.getElementById("birdpic").style.borderRadius = "50%"
                document.getElementById("birdpic").src = "giant_heron.jpg"
                document.getElementById("link").href = "https://en.wikipedia.org/wiki/Goliath_heron"
                document.getElementById("birdpic").style.backgroundColor = "#e50055"
                document.body.style.backgroundColor = "#000000"
                document.getElementById("container").style.padding = "10%"
              &lt;/script>
            </body>
            </html>
       </script>
      <p>
         A difficult part of creating multiple functions is knowing which parts belong together. A rule of thumb is: <i>If you can easily give a group of commends a meaningful name, you are doing it right</i> 
      </p>
      <p>
        Create a new version of the HTML file above with the code grouped into functions with meaningful names. How many functions do you create?
      </p>
      <answer noslider buttontext="mail your entire file."></answer>
  </section>


  <h2>functions for interaction</h2>

  <p>Don't forget to make them notes!</p>
  <youtube ytid="J5adDzb3eu8"></youtube>
  <section class="assignment">
    <h3 class="assignment summary">3.7: summary and questions</h3>
    <answer  buttontext="mail your summary">3.7.a: Make a list with <i>3 to 5 bulletpoints</i> with the most important or interesting things in the video:</answer>
  </section>
  <section class="assignment">
      <answer noslider  buttontext="mail your word list">3.7.b: Which words or concepts would you like us to explain during class?</answer>
  </section>

<br><br>
  <div id="html-template" class="hint-content">
    <p>Whenever you have to do a JavaScript exercise where we don't give you a complete HTML file, use the following code as a template. Add the code for the exercise in the marked sections for JavaScript, HTML, and CSS (if needed).</p>
    <script type="text/plain" class="language-html">
      <html>
        <head>
          <meta charset='utf-8'>
          <title>No Title Yet...</title>
          <style>

            /* CSS code goes here */

          </style>
        </head>
        <body>
          
          <!-- HTML code goes here -->
          
          <script>

            // JavaScript code goes here

          &lt;/script>
        </body>
      </html>    
    </script> 
    <p>Notice how lines 7, 13 and 17 are all comment lines, but in different languages (CSS, HTML and JavaScript), and therefore with different notation. Some concepts, like comments, are common to many programming languages but have different syntax rules&mdash;you write them differently.</p>
</div>

  <h3>3.8: warming-up exercises</h3>
    <p>Make a few interactive pages with functions yourself. Create an HTML file (see template above), and add an image to it.</p>
    <section class="assignment">
      <h4>3.8.a: clicked</h4>
      <p>Create a version of the file that runs <code>console.log("Clicked!")</code> when the user clicks the image.</p>
      <answer noslider buttonText="mail your interactive file">Test your code before sending it in:</answer>
    </section>
    <section class="assignment">
      <h4>3.8.b: inside and out</h4>
      <p>Create <i>another</i> version of the file that</p>
      <ul>
        <li>runs <code>console.log("Mouse in image!")</code> when the user move the mouse inside the image.</li>
        <li>runs <code>console.log("The mouse has left the image...")</code> when the user move the mouse from inside to outside the image.</li>
      </ul>
      <answer noslider buttonText="mail this version too"><i>Always</i> test your code before sending it in:</answer>
    </section>
    <section class="assignment">
      <h4>3.8.c: move it</h4>
      Create <i>another</i> version of the file that
      <ul>
        <li>uses the <code>onmousemove</code> event handler (instead of onclick) to</li>
        <li>run <code>console.log("Movement detected!");</code></li>
      </ul>
      <answer buttonText="mail this version too">Test, then send:</answer>
    </section>


  <h2>functions with or without value</h2>
      <p>The <code>alert()</code> function has a sister called "<code>prompt()</code>". You use it if you want to ask the user a question, and use the result in your JavaScript code.</p>
      <p>Now, using the HTML template from the hint above, try this in your browser:</p>
      <script type="text/plain" class="language-js">
        document.body.style.backgroundColor = prompt('Give a color name (e.g. "white", "green")')
      </script>
      <p>Note how the color name that you entered becomes the new value for the background color of the page.</p>
      <div class="theory">
        <ul>
          <li>
            <b>Some functions result in a value</b> (a bit of information) after they've been called. You've seen examples in the Arduino chapter, like <b><code>analogRead()</code></b>. 
            <br>Here in JavaScript, <b><code>prompt()</code></b> is also a ‘value-creator’ function.</li>
          <li>
            <b>Some functions <i>do not result</i> in a value.</b> 
            They do other things, such as showing things on screen, making sound, or sending stuff over the internet. 
            <br>In Arduino, <b><code>Serial.println()</code></b> is one of those, as is <b><code>digitalWrite()</code></b>.
            <br>In JavaScript, the function <b><code>console.log()</code></b> is also a ‘no-value’ function. And so is <b><code>alert()</code></b>. It is similar to <code>prompt()</code>, but unlike <code>prompt()</code>, it does not result in any interesting information.
          </li>
        </ul>
      </div>  
      As an experiment, try to use a no-value function in a situation where a value is needed:
      <script type="text/plain" class="language-js">
        console.log( "The value of this experiment is:", alert(30+3) )
      </script>
      <p>Here, we're giving <code>console.log()</code> <i>two inputs</i>. That's fine. You can use any number of inputs with <code>console.log()</code> (You can't with <code>Serial.println()</code>, though: that one accepts only one input).</p>
      <p>Notice how <code>console.log()</code> did show something after the first input! 
      <div class="theory">
        <p>In JavaScript, whenever a value is needed, but not supplied, a dummy-value is used instead.</p>
        <p>This dummy value is written and printed as: <b><code>undefined</code></b>.</p>
      </div>  


  <h3 class="assignment questions">3.9: to () or not to ()</h3>
  <p>In JavaScript, a function you created can be executed, but you can <em>also use its name without having the code be executed</em>.
  <section class="assignment">
      <h4>3.9.a: what do the () actually mean?</h4>
      <p>
        Try this:
      <script type="text/plain" class="language-javascript">
        function writeHelloWorld(){
          document.body.innerHTML = "Hello World"
        }

        alert( writeHelloWorld )
        alert( writeHelloWorld() )           
       </script>
        <p>
          Describe what is happening in the both alert statements; can you explain this behaviour?.
        </p>
      <answer noslider buttontext="mail your explanation"></answer>
  </section>
  <section class="assignment">
      <h4 class="assignment questions">3.9.b: when (not) to call...</h4>
      <p>
        Try this:
      </p>
     <script type="text/plain" class="language-html" data-line="6,7">
        <button id="helloButton" >Hello there!</button>
        <script>
        function writeHelloWorld(){
          document.body.innerHTML = "Hello World"
        }
        document.getElementById("helloButton").onclick = writeHelloWorld()
        document.getElementById("helloButton").onclick = writeHelloWorld 
        &lt;/script>      
        </script>
        <p>
          Only one of the two highlighted lines (6 and 7) will do what we want. 
          <ol type="a">
            <li>Which line is correct?</li>
            <li>Can you explain what is happening on the other, incorrect line? What makes it go wrong?</li> 
          </ol>
        </p>
      <answer buttontext="mail line number and explanation"></answer>
  </section>

 <section class="assignment">
      <h3 class="assignment questions">3.10.a: just joking</h3>
      <p>
      Below is an excellent joke function about a leopard. Make a button that calls this joke. 
      </p>
      <script type="text/plain" class="language-javascript">
        function leopardJoke(){
          alert("Why couldn't the leopard play hide and seek?")
          alert("Because he was always spotted.")
        }    
       </script>
      <answer buttontext="mail your code"></answer>
  </section>
   <section class="assignment">
      <h3 class="assignment questions">3.10.b: more laughs</h3>
      <p>
      Change the code in such a way that when the red area is clicked, the leopard joke is shown in the green area.
      </p>
      <p>
      Add your own animal related joke that, when the green area is clicked, is shown in the red area.
      </p>
      <script type="text/plain" class="language-html">
        
          <html>
            <head>
            </head>
            <body>
               <div id="redArea" style="margin:100px;
                                         background-color:red;
                                         padding:20px;
                                         color:white" >
                  Hello World!
               </div>
               <div id="greenArea" style="margin:100px;
                                          background-color:#0a0;
                                          padding:20px;
                                          color:white" >
                  Nice and green!
               </div>
             
               <script>
                   function leopardJoke(){
                      //Change this function in such a way that the joke is not alerted
                      //But shown in the green area instead
                      alert("Why couldn't the leopard play hide and seek?")
                      alert("Because he was always spotted.")
                    }   
               &lt;/script>
             
            </body>
          </html>
       
      </script>
        <p>
          Hint: In html, for displaying a break (enter) in text, use the < br >  tag.
        </p>
      <answer buttontext="mail your code"></answer>
  </section>



    <section class="assignment">
      <h3 class="assignment questions">3.10.c: <span class="inline-bonus">BONUS:</span> toggle laughs</h3>
      <div class="instruction">
        <p>This exercise is a <b>bonus excercise</b>.</p>
        <ul>
          <li>Bonus exercises are <b>half-optional:</b> Spend some time making a start, but quit if you're not getting anywhere after 10 minutes.</li>
          <li>We don't actually have any bonus prize to award you if you do the exercise. Sorry.</li>
          <li>These exercises <i>will be discussed</i> in class. So don't ignore them completely. Spend 10 minutes thinking about it. Finish the exercise if, after 10 miniutes, you think you can do it.</li>
        </ul>
        
      </div>
          <p>
        Using only JavaScript we discussed sofar, create e new version of the code in such a way that:</p>
        <ul>
          <li>There is only one area. Delete the other one.</li>
          <li>When the area is first clicked, the first joke is displayed in the area itself.</li>
          <li>When the area is clicked a second time, the second joke should display in the same area. </li>
          <li>When the area is clicked again, for a third time, the first joke should be shown again in the area. </li>
          <li>When the user clicks some more, the process repeats itself: the two jokes alternate with each click.</li>
        </ul>   
      </p>
      <answer buttontext="mail your code"></answer>
    </section>

    <h2>calculations in JavaScript</h2>
    <p>Like Arduino, we often need calculations to achieve interesting user interaction. The effect created in the following video could not have been created without some calculations. <b>Remember to make some notes!</b></p>
    <youtube ytid="UA8k9S9-KQM"></youtube>    
    <h3 class="assignment summary">3.11: summary and questions</h3>
    <section class="assignment">
      <answer  buttontext="mail your summary">3.11.a: Make a list with <i>3 to 5 bulletpoints</i> with the most important or interesting things in the video:</answer>
    </section>
    <section class="assignment">
        <answer noslider buttontext="mail your word list">3.11.b: Which words or concepts would you like us to explain during class?</answer>
    </section>
  


    
    <section class="assignment">
      <h3 class="assignment questions">3.12: sliding birds</h3>
      <p>You're going to create something similar to the birds-slider app in the video. Instead of the width of the pictures changing, two CSS properies change with the slider: <code>opactity</code> and <code>left</code>. Like this:</p> 
      <youtube ytid="0ewoLCVQyK8"></youtube>
      <p>Let's approach this in three steps, and use the code below to get started:</p>
      <script type="text/plain" class="language-markup">
        <!DOCTYPE html>
        <html>
        <head>
          <title></title>
          <meta charset="UTF-8"> 
          <style>
            img {
              position: absolute; /* this property allows you to set the position
                                     of the element using left: and top: properties */
              left: 0px;                       
              top:  100px;
              width: 400px;
            }
          </style>	
        </head>
        <body>
          <!-- the step="any" attribute is needed to allow 
               slider values with digits after the decimal point -->
          <input id="slider" 
                type="range" 
                step="any"    
                min="0" 
                max="1" 
                value="0" 
                style="width: 300px;">
          <hr>
        
          <img id="firstBird"  src="mousebird.jpg" style="left: 400px">
          <img id="secondBird" src="crested_crane.jpg" style="left: 800px">
        
          <script>
        
            console.log("script started")
        
            function updateImages(){
              console.log("updateImages started:", "slider value = ", document.getElementById("slider").valueAsNumber)
        
              // TODO 1: The first bird should get higher opacity when slider values are high.
              //         The second bird should get lower opacity when slider values are high.

              // TODO 3: The left of the first bird should move from 0 pixels to 400 pixels
              //         when slider values go from 0 to 1.
              //         Don't forget to start at left position 400px (see html code).
        
              //         The second bird should move from 400 pixels to 800 pixels when slider values
              //         go from 0 to 1.
              //         Don't forget to start at left position 800px (see html code).
        
              console.log("updateImages ended")
            }
        
            document.getElementById("slider").oninput = updateImages
              
            // TODO 2: make sure that images are updated when the page is loaded 
            //         (i.e. before the user has moved the slider).
        
            console.log("script ended")
          &lt;/script>
        </body>
        </html>
              </script>
      <p>Note these three things about the code:</p>
      <ul>
        <li>In this version, the slider values go from 0 (zero) to 1 (one). If you set the slider halfway, you get the value 0.5. This is actually useful!</li>
        <li>There are three comments starting with "TODO". These comments correspond to the three steps described below.</li>
        <li>Where the video used <code>document.getElementById( ... ).</code><b><code>value</code></b> to get the slider value, this code uses a variant: <code>document.getElementById( ... ).</code><b><code>valueAsNumber</code></b>. Please use this new variant in your code too! It helps prevent some weird bugs you might encounter.</li>
      </ul>        
      <p>Here are the birds: <download href="./mousebird.jpg" ></download>, and <download href="./crested_crane.jpg"></download></p>

      <h4>step 1: changing opacity</h4>
      <p>You make an HTML element <i>transparent</i> by setting it's opactity to a value between 0 and 1:</p>
      <script type="text/plain" class="language-js">
        // code template for making an HTML element 70% transparent
        document.getElementById( ... ).style.opacity = 0.3 
      </script>
      <p>An opacity value of 1 means no transparency at all (fully opaque). An opacity value of 0 means completely transparent (invisible).</p>
      <p>Now, beneath the "TODO 1" comment in the starter code, add two commands that change the opacity of the pictures in the way shown in the video, and described in the comment.</p>

      <h4>step 2: fixing the first moments</h4>
      <p>While you were testing, you may have noticed that when the page is reloaded in the browser, neither of the images is transparent. This is because the function <code data-language="javascript">updateImages()</code><i>is only called when the slider is moved</i>.</p>
      <p>Now, add a line of code beneath the "TODO 2" comment to make sure that the styling of the images get updated <i>when the page is loaded</i> too.</p>

      <h4>step 3: moving pictures</h4>
      <p>The starter code below contains some CSS-code to give images the <code>position: absolute</code> property. That means that it's position can now be controlled by setting it's <code>left:</code> and <code>top:</code> properties.</p>
          <script type="text/plain" class="language-js">
            // code template for setting the horizontal position of an element to 250 pixels
            document.getElementById( ... ).style.left = 250 + "px" 
          </script>
          <p>Note that a simple number won't work for <code>left:</code> or <code>top:</code>. You need to append the letters "px" at the end of it. Other length units, like "cm" or "in", will also work. In the example, we append "px" to the value 250, resulting in the text value "250px", which is exactly how CSS likes it.</p>
          <p>Check the video again to remind yu of the movements, and study as the desciption in the TODO 3 comment. Then add the code that make the pictures move from side-to-side when the user moves the slider.</p>
      <answer buttontext="mail your program">Send in the program after you're done with all the steps:</answer>
    </section>

</main></div>
<script src='../js/main.js'></script>
</body>
</html>